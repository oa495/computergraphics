<!DOCTYPE html>
<html class="page-home">
    <head>
        <meta charset="utf-8"> 
        <title>Omayeli Arenyeka</title>
        <link rel="icon" type="image/png" href="images/logo.png">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="styles/styles.css">
    </head>
    <body>
      <center>
       <table>
          <tr>
             <td>
                <center>
                   <canvas id="canvas1" width="400" height="400"></canvas>
                   <p><input  oninput="addCircles(this.value)" onchange="addCircles(this.value)" type="range" id="myRange" value="0" min="0" max="10"></p>
                </center>
             </td>
       </table>

      <script src="utility.js"></script>
      <script src="drawlib1.js"></script>
      <script src="matrix.js"></script>

      <style type="text/css">
         * {
            margin: 0;
            padding: 0;
         }
         #canvas1 {
            background: #E1F5C4;
         }
      </style>

      <script>
         var matrix = new Matrix();

         matrix.identity();
         matrix.translate(1, 0, 0);
         matrix.translate(2, 3, 0);

         console.log(matrix.toString());

         var srcVec = new Vector3(10, 0, 0);
         var dstVec = new Vector3(0, 0, 0);
         matrix.transform(srcVec, dstVec);
         console.log(dstVec.toString());
         //////////////

         var canvas1 = document.getElementById('canvas1');
         var circles = [];
         var largeCircle;
         var ctx;
         if (canvas1.getContext){
           ctx = canvas1.getContext('2d');
           largeCircle = new Circle(canvas1, ctx, "#FF4E50", 1, 10, canvas1.width/2, canvas1.height/2, 5);
           largeCircle.draw();
           drawCircle();
         }

         function addCircles(no) {
            circles = [];
            var size;
            for (var i = 0; i < no; i++) {
                  size = Math.random()*4;
               circles.push(new Circle(canvas1, ctx, getColor(), 1, size, canvas1.width/2, canvas1.height/2, Math.floor(Math.random()*5)));
            }
         }
         function drawCircle() {
            ctx.clearRect(0, 0, canvas1.width, canvas1.height);
            largeCircle.move();
            largeCircle.draw();
            for (var j = 0; j < circles.length; j++) {
                 circles[j].draw();
                 circles[j].move();
            }
            requestAnimationFrame(drawCircle);
         }
         function getColor() {
            var colors = ['#FC913A', '#F9D423', '#EDE574', '#CCF390', '#E0E05A', '#F7C41F', '#FEE5AD', '#F45D4C'];
            return colors[Math.floor(Math.random() * colors.length)];   
         }
         function Circle(canvas, context, color, opacity, size, x, y, increment) {
               this.x = x; 
               this.y = y;
               this.increment = increment;
               this.originalSize = size;
               this.size = size;
               this.color = color;
               this.opacity = opacity;
               this.draw = function() {
                  context.globalOpacity = this.opacity;
                  ctx.fillRect(this.x, this.y, this.size, this.size);
                  context.fillStyle = this.color;
                  context.fill();
               };
               this.move = function() {
                     this.size += this.increment;
                     this.opacity -= Math.random();
                     if (this.size > canvas.width-100 || this.size > canvas.height-100) {
                        this.reset();
                     }
                     else {
                        this.draw();
                     }
               };
               this.reset = function() {
                  this.size = this.originalSize;
                  this.draw();
               };
         }
      </script> 
   </body>
</html>

