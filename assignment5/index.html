<canvas id="canvas1" width="400" height="400"></canvas>
<canvas id="canvas2" width="400" height="400"></canvas>

<script src="drawlib1.js"></script>


<script>
   var canvas;
   canvas = initCanvas('canvas1');
   canvas.update = function(g) {
      var x = this.cursor.x,
          y = this.cursor.y;

      g.strokeStyle = 'black';
      g.strokeRect(1, 1, this.width-2, this.height-2);

      var diameter = 100 * (1 + .1 * Math.sin(time * 10));
      g.fillStyle = this.cursor.z ? 'red' : 'rgb(0,0,128)';
      g.fillRect(x - diameter / 2, y - diameter / 2, diameter, diameter);
   }
   canvas = initCanvas('canvas2');
   canvas.update = function(g) {
      var t = 50 * Math.sin(10 * time);

      g.lineWidth = 1;

      g.strokeStyle = 'black';
      g.strokeRect(1, 1, this.width-2, this.height-2);

      g.lineWidth = 5;

      g.strokeStyle = 'rgba(255,0,0,0.5)';
      g.fillStyle = 'rgba(0,0,255,0.5)';

      g.beginPath();
      g.moveTo(200, 100);
      g.lineTo(100, 300 + t);
      g.lineTo(300, 300 - t);
      g.lineTo(200, 100);
      g.stroke();

      g.lineCap = 'round';
      g.lineJoin = 'round';
      g.lineWidth = 20;

      g.beginPath();
      g.moveTo(220, 100);
      g.lineTo(150, 300 + t);
      g.lineTo(250, 300 - t);
      g.lineTo(180, 100);
      g.stroke();

      g.font = (20 + 10 * Math.sin(time)) + 'px Arial';
      g.lineWidth = 4;
      g.strokeText("THIS IS TEXT!", 100, 350);
      g.fillText("THIS IS TEXT!", 100, 350);
   }
</script>

